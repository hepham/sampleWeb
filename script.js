// Sample data array with 20 objects
const data = [
    // Data for chart1 and table1
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5, 1, 5, 13, 5, 1, 5, 13, 5, 12],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5, 1, 5, 13, 5, 1, 5, 13, 5, 12],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5, 1, 5, 13, 5, 1, 5, 13, 5, 12],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    },
    {
        chartData: {
            labels: ['49', '50', '51', '52'],
            datasets: [{
                label: 'Statistics',
                data: [1, 5, 13, 5],
                backgroundColor: 'rgba(75,192,192,0.2)',
                borderColor: 'rgba(75,192,192,1)',
                borderWidth: 1
            }]
        },
        tableHeaders: ['Date', 'Time', 'Value'],
        tableRows: [
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
            ['2024/12/1', '12:00:01', '10'],
        ]
    }
];

let container = document.querySelector('.container');
let row;

for (let i = 0; i < data.length; i++) {
    console.log(i);
    row = document.createElement('div');
    row.className = 'row';
    container.appendChild(row);

    let chartTableDiv = document.createElement('div');
    chartTableDiv.className = 'chart-table';
    row.appendChild(chartTableDiv);

    // Create canvas
    let canvas = document.createElement('canvas');
    canvas.id = 'chart' + (i + 1);
    chartTableDiv.appendChild(canvas);

    // Create table
    let table = document.createElement('table');
    table.id = 'table' + (i + 1);

    // Add table headers
    let thead = document.createElement('thead');
    let headerRow = document.createElement('tr');
    data[i].tableHeaders.forEach(header => {
        let th = document.createElement('th');
        th.textContent = header;
        headerRow.appendChild(th);
    });
    thead.appendChild(headerRow);
    table.appendChild(thead);

    // Add table rows
    let tbody = document.createElement('tbody');
    data[i].tableRows.forEach(rowData => {
        let tr = document.createElement('tr');
        rowData.forEach(cellData => {
            let td = document.createElement('td');
            td.textContent = cellData;
            tr.appendChild(td);
        });
        tbody.appendChild(tr);
    });
    table.appendChild(tbody);
    chartTableDiv.appendChild(table);

    // Render chart
    let ctx = canvas.getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: data[i].chartData,
        options: {
            responsive: true,
            maintainAspectRatio: true,
            elements: {
                line: {
                    tension: 0.4
                }
            }
        }
    });
}